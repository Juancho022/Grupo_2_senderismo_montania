<% let pageTitle='Product edit form' %>
    <%- include('partials/head', { styles: ['stylesInventory'], pageTitle: pageTitle }) %>

        <body>
            <%- include('./partials/header') %>
                <main class="form-edit-create">
                    <div class="product-edit">
                        <div class="edit-img">
                            <img class="img-edit-product" src="/images/<%= product.img %>">
                            <button class="edit-image-button">
                                Editar imágenes
                            </button>
                        </div>
                        <form id="product-id" class="product-edit-form" action="/inventory/<%= product.id %>/edit?_method=PUT"
                            method="post">
                            <h2 id="edit-product-title">Editar producto</h2>
                            <div class="label-product">
                                <label for="product">Producto</label>
                                <input id="name" type="text" class="product-imput" name="name"
                                    placeholder="Nombre del producto"  value="<%= product.name %>">
                                    <p id="err-name" class="error-message"></p>
                            </div>

                            <div class="label-product">
                                <label for="description">Descripción</label>
                                <input id="description" type="text" class="product-imput" name="description"
                                    placeholder="Descripción del producto"  value="<%= product.description %>">
                                    <p id="err-description" class="error-message"></p>
                            </div>

                            <div class="label-product-price">
                                <label for="price">Precio</label>
                                <input id="price" type="text" class="product-imput-price" name="price"
                                    placeholder="Precio del producto"  value="<%= product.prices[0].price %>">
                                    <p id="err-price" class="error-message"></p>
                            </div>

                            <div class="label-product-price">
                                <label for="discount">Descuento</label>
                                <input id="discount" type="text" name="discount" placeholder="Ej: 15"
                                    class="product-imput-price" >
                                    <p id="err-discount" class="error-message"></p>
                            </div>

                            <div class="size-options">
                                <label for="size">Talles disponibles</label>
                                <% allSizes.forEach((size) => { %>
                                    <label>
                                        <input type="checkbox" name="sizes" value="<%= size.sizes_type %>">
                                        <%= size.sizes_type %>
                                    </label>
                                <% }); %>
                                <p id="err-sizes" class="error-message"></p>
                            </div>

                            <div class="color-options">
                                <label for="color">Colores disponibles</label>
                                <% allColors.forEach((color) => { %>
                                    <label>
                                        <input type="checkbox" name="colors" value="<%= color.color_name %>">
                                        <%= color.color_name %>
                                    </label>
                                <% }); %>
                                <p id="err-colors" class="error-message"></p>
                            </div>

                            <div class="counter-edit-product">
                                <span id="stock">Stock</span>
                                <div class="button" id="decrease">-</div>
                                <span id="count">24</span>
                                <div class="button" id="increase">+</div>
                            </div>

                            <div class="product-category">
                                <span id="category">Categoría</span>
                                <select class="product-category-detail" id="categoryproduct">
                                    <option value="<%= product.category.id %>" selected>
                                        <%= product.category.description %>
                                    </option>
                                    <% categories.forEach(category => { %>
                                        <% if (category.id !== product.category.id) { %>
                                            <option value="<%= category.id %>">
                                                <%= category.description %>
                                            </option>
                                        <% } %>
                                    <% }); %>
                                </select>
                                <p id="err-categoryproduct" class="error-message"></p>
                            </div>
                            <div class="button-submit">
                                <input type="submit" class="button-submit" value="Guardar cambios">
                            </div>
                        </form>
                    </div>
                </main>
                <%- include('./partials/footer') %>
                <script src="/js/editProductValidation.js"></script>
        </body>

        </html>